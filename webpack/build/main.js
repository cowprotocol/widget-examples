(()=>{"use strict";var e={174:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=["connect","disconnect","close","chainChanged","accountsChanged"];class o{constructor(e){this.contentWindow=e,this.ethereumProvider=null,this.requests={},this.processEvent=e=>{"2.0"===e.data.jsonrpc&&(this.ethereumProvider?this.processRequest(e.data):this.requests[e.data.id]=e.data)},window.addEventListener("message",this.processEvent)}disconnect(){this.ethereumProvider=null,window.removeEventListener("message",this.processEvent)}onConnect(e){this.ethereumProvider=e,Object.keys(this.requests).forEach((e=>{this.processRequest(this.requests[e])})),this.requests={},n.forEach((t=>{e.on(t,(e=>{this.postMessage({method:t,params:[e]})}))}))}processRequest(e){this.ethereumProvider&&("enable"===e.method?this.ethereumProvider.enable():this.ethereumProvider.request(e)).then((t=>{this.postMessage({id:e.id,result:t})})).catch((t=>{this.postMessage({id:e.id,error:t})}))}postMessage(e){this.contentWindow.postMessage({jsonrpc:"2.0",...e},"*")}}const s={local:"http://localhost:3000",prod:"https://swap.cow.fi",dev:"https://dev.swap.cow.fi",pr:typeof window>"u"||!window?"":`https://swap-dev-git-${window.location.hostname.replace("widget-configurator-git-","").replace("-cowswap.vercel.app","")}-cowswap.vercel.app`};var a,r=((a=r||{}).SWAP="swap",a.LIMIT="limit",a.ADVANCED="advanced",a);function i(e){const{chainId:t=1,sell:n,buy:o,tradeType:s=r.SWAP}=e,a=[];return n?.asset&&a.push(n.asset),o?.asset&&a.push(o.asset),`/${t}/widget/${s}/${a.map(encodeURIComponent).join("/")}`}function d(e){const{sell:t,buy:n,theme:o}=e,s=new URLSearchParams;return t?.amount&&s.append("sellAmount",t.amount),n?.amount&&s.append("buyAmount",n.amount),o&&s.append("theme","string"==typeof o?o:o.baseTheme),s}const c="cowSwapWidget",p="640px",h="450px";function l(e,t){const n=i(e),o=d(e).toString();t.postMessage({key:c,method:"update",urlParams:{pathname:n,search:o},appParams:{...e,provider:void 0}},"*")}t.COWSWAP_URLS=s,t.TradeType=r,t.cowSwapWidget=function(e,t={}){const{provider:n}=t,a=function(e){const{width:t=h,height:n=p}=e,o=document.createElement("iframe");return o.src=function(e){return s[e.env||"prod"]+"/#"+i(e)+"?"+d(e)}(e),o.width=t,o.height=n,o.style.border="0",o}(t);e.innerHTML="",e.appendChild(a);const{contentWindow:r}=a;if(!r)throw new Error("Iframe does not contain a window!");return function(e,t){window.addEventListener("message",(n=>{n.data.key!==c||"activate"!==n.data.method||e.postMessage({key:c,method:"metaData",metaData:t?{appCode:t}:void 0},"*")}))}(r,t.appCode),function(e,t=p){window.addEventListener("message",(n=>{n.data.key!==c||"iframeHeight"!==n.data.method||(e.style.height=n.data.height?`${n.data.height+20}px`:t)}))}(a,t.height),n&&new o(r).onConnect(n),a.addEventListener("load",(()=>{l(t,r)})),e=>l(e,r)}}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=n(174);const t=document.createElement("div");let o={appCode:"Widget Examples: Webpack",width:"450px",height:"640px",provider:window.ethereum,chainId:1,tradeType:"swap",sell:{asset:"USDC",amount:"1000"},buy:{asset:"COW"},enabledTradeTypes:["swap","limit","advanced"],theme:"dark",interfaceFeeBips:"50"};const s=document.createElement("button");s.innerText="ðŸ”„ Invert token selection",s.addEventListener("click",(()=>{o={...o,sell:o.buy,buy:o.sell},console.log("switching tokens",o),d(o)}));const a=document.createElement("h1");a.innerText="CoW Widget - Webpack example";const r=document.createElement("a");r.href="https://github.com/cowprotocol/widget-examples/tree/main/webpack",r.target="_blank",r.rel="noreferrer",r.innerText="ðŸ‘€ Show me the code",r.style="color: white";const i=document.createElement("main");a.style="margin: 30px 30px 10px 30px",s.style="padding: 10px; border-radius: 15px; margin: 30px 15px; ",i.style="display:flex; flex-direction: column; margin-top: 0; align-items: center;",document.body.style="height: 100vh; display: flex; justify-content: center; color: #fff; background-color: #06172e; margin: 0;",i.appendChild(a),i.appendChild(r),i.append(s),i.appendChild(t),document.body.appendChild(i);const d=(0,e.cowSwapWidget)(t,o)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aEMsU0FBUytDLEtBQUt0QyxZQUFZcUMsR0FHMUIsTUFBTU4sR0FBZSxJQUFBM0MsZUFBY21DLEVBQVd0RixFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2lkZ2V0LXdlYnBhY2stZXhhbXBsZS8uL25vZGVfbW9kdWxlcy9AY293cHJvdG9jb2wvd2lkZ2V0LWxpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly93aWRnZXQtd2VicGFjay1leGFtcGxlL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3dpZGdldC13ZWJwYWNrLWV4YW1wbGUvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vd2lkZ2V0LXdlYnBhY2stZXhhbXBsZS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vd2lkZ2V0LXdlYnBhY2stZXhhbXBsZS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3dpZGdldC13ZWJwYWNrLWV4YW1wbGUvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSk7Y29uc3QgZz1cIjIuMFwiLG09XCIqXCIsbD1bXCJjb25uZWN0XCIsXCJkaXNjb25uZWN0XCIsXCJjbG9zZVwiLFwiY2hhaW5DaGFuZ2VkXCIsXCJhY2NvdW50c0NoYW5nZWRcIl07Y2xhc3MgZntjb25zdHJ1Y3RvcihlKXt0aGlzLmNvbnRlbnRXaW5kb3c9ZSx0aGlzLmV0aGVyZXVtUHJvdmlkZXI9bnVsbCx0aGlzLnJlcXVlc3RzPXt9LHRoaXMucHJvY2Vzc0V2ZW50PXQ9Pnt0LmRhdGEuanNvbnJwYz09PVwiMi4wXCImJih0aGlzLmV0aGVyZXVtUHJvdmlkZXI/dGhpcy5wcm9jZXNzUmVxdWVzdCh0LmRhdGEpOnRoaXMucmVxdWVzdHNbdC5kYXRhLmlkXT10LmRhdGEpfSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix0aGlzLnByb2Nlc3NFdmVudCl9ZGlzY29ubmVjdCgpe3RoaXMuZXRoZXJldW1Qcm92aWRlcj1udWxsLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHRoaXMucHJvY2Vzc0V2ZW50KX1vbkNvbm5lY3QoZSl7dGhpcy5ldGhlcmV1bVByb3ZpZGVyPWUsT2JqZWN0LmtleXModGhpcy5yZXF1ZXN0cykuZm9yRWFjaCh0PT57dGhpcy5wcm9jZXNzUmVxdWVzdCh0aGlzLnJlcXVlc3RzW3RdKX0pLHRoaXMucmVxdWVzdHM9e30sbC5mb3JFYWNoKHQ9PntlLm9uKHQsbj0+e3RoaXMucG9zdE1lc3NhZ2Uoe21ldGhvZDp0LHBhcmFtczpbbl19KX0pfSl9cHJvY2Vzc1JlcXVlc3QoZSl7aWYoIXRoaXMuZXRoZXJldW1Qcm92aWRlcilyZXR1cm47KGUubWV0aG9kPT09XCJlbmFibGVcIj90aGlzLmV0aGVyZXVtUHJvdmlkZXIuZW5hYmxlKCk6dGhpcy5ldGhlcmV1bVByb3ZpZGVyLnJlcXVlc3QoZSkpLnRoZW4obj0+e3RoaXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQscmVzdWx0Om59KX0pLmNhdGNoKG49Pnt0aGlzLnBvc3RNZXNzYWdlKHtpZDplLmlkLGVycm9yOm59KX0pfXBvc3RNZXNzYWdlKGUpe3RoaXMuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh7anNvbnJwYzpnLC4uLmV9LG0pfX1mdW5jdGlvbiBFKCl7cmV0dXJuIHR5cGVvZiB3aW5kb3c+XCJ1XCJ8fCF3aW5kb3c/XCJcIjpgaHR0cHM6Ly9zd2FwLWRldi1naXQtJHt3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUucmVwbGFjZShcIndpZGdldC1jb25maWd1cmF0b3ItZ2l0LVwiLFwiXCIpLnJlcGxhY2UoXCItY293c3dhcC52ZXJjZWwuYXBwXCIsXCJcIil9LWNvd3N3YXAudmVyY2VsLmFwcGB9Y29uc3QgZD17bG9jYWw6XCJodHRwOi8vbG9jYWxob3N0OjMwMDBcIixwcm9kOlwiaHR0cHM6Ly9zd2FwLmNvdy5maVwiLGRldjpcImh0dHBzOi8vZGV2LnN3YXAuY293LmZpXCIscHI6RSgpfTt2YXIgcj0ocz0+KHMuU1dBUD1cInN3YXBcIixzLkxJTUlUPVwibGltaXRcIixzLkFEVkFOQ0VEPVwiYWR2YW5jZWRcIixzKSkocnx8e30pO2Z1bmN0aW9uIHYocyl7Y29uc3QgZT1kW3MuZW52fHxcInByb2RcIl0sdD1oKHMpLG49dShzKTtyZXR1cm4gZStcIi8jXCIrdCtcIj9cIitufWZ1bmN0aW9uIGgocyl7Y29uc3R7Y2hhaW5JZDplPTEsc2VsbDp0LGJ1eTpuLHRyYWRlVHlwZTpvPXIuU1dBUH09cyxpPVtdO3Q/LmFzc2V0JiZpLnB1c2godC5hc3NldCksbj8uYXNzZXQmJmkucHVzaChuLmFzc2V0KTtjb25zdCB3PWkubWFwKGVuY29kZVVSSUNvbXBvbmVudCkuam9pbihcIi9cIik7cmV0dXJuYC8ke2V9L3dpZGdldC8ke299LyR7d31gfWZ1bmN0aW9uIHUocyl7Y29uc3R7c2VsbDplLGJ1eTp0LHRoZW1lOm59PXMsbz1uZXcgVVJMU2VhcmNoUGFyYW1zO3JldHVybiBlPy5hbW91bnQmJm8uYXBwZW5kKFwic2VsbEFtb3VudFwiLGUuYW1vdW50KSx0Py5hbW91bnQmJm8uYXBwZW5kKFwiYnV5QW1vdW50XCIsdC5hbW91bnQpLG4mJm8uYXBwZW5kKFwidGhlbWVcIix0eXBlb2Ygbj09XCJzdHJpbmdcIj9uOm4uYmFzZVRoZW1lKSxvfWNvbnN0IGE9XCJjb3dTd2FwV2lkZ2V0XCIscD1cIjY0MHB4XCIseT1cIjQ1MHB4XCIsUD0yMDtmdW5jdGlvbiBXKHMsZT17fSl7Y29uc3R7cHJvdmlkZXI6dH09ZSxuPVMoZSk7cy5pbm5lckhUTUw9XCJcIixzLmFwcGVuZENoaWxkKG4pO2NvbnN0e2NvbnRlbnRXaW5kb3c6b309bjtpZighbyl0aHJvdyBuZXcgRXJyb3IoXCJJZnJhbWUgZG9lcyBub3QgY29udGFpbiBhIHdpbmRvdyFcIik7cmV0dXJuIFQobyxlLmFwcENvZGUpLEEobixlLmhlaWdodCksdCYmbmV3IGYobykub25Db25uZWN0KHQpLG4uYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwoKT0+e2MoZSxvKX0pLGk9PmMoaSxvKX1mdW5jdGlvbiBTKHMpe2NvbnN0e3dpZHRoOmU9eSxoZWlnaHQ6dD1wfT1zLG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTtyZXR1cm4gbi5zcmM9dihzKSxuLndpZHRoPWUsbi5oZWlnaHQ9dCxuLnN0eWxlLmJvcmRlcj1cIjBcIixufWZ1bmN0aW9uIGMocyxlKXtjb25zdCB0PWgocyksbj11KHMpLnRvU3RyaW5nKCk7ZS5wb3N0TWVzc2FnZSh7a2V5OmEsbWV0aG9kOlwidXBkYXRlXCIsdXJsUGFyYW1zOntwYXRobmFtZTp0LHNlYXJjaDpufSxhcHBQYXJhbXM6ey4uLnMscHJvdmlkZXI6dm9pZCAwfX0sXCIqXCIpfWZ1bmN0aW9uIFQocyxlKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix0PT57dC5kYXRhLmtleSE9PWF8fHQuZGF0YS5tZXRob2QhPT1cImFjdGl2YXRlXCJ8fHMucG9zdE1lc3NhZ2Uoe2tleTphLG1ldGhvZDpcIm1ldGFEYXRhXCIsbWV0YURhdGE6ZT97YXBwQ29kZTplfTp2b2lkIDB9LFwiKlwiKX0pfWZ1bmN0aW9uIEEocyxlPXApe3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHQ9Pnt0LmRhdGEua2V5IT09YXx8dC5kYXRhLm1ldGhvZCE9PVwiaWZyYW1lSGVpZ2h0XCJ8fChzLnN0eWxlLmhlaWdodD10LmRhdGEuaGVpZ2h0P2Ake3QuZGF0YS5oZWlnaHQrUH1weGA6ZSl9KX1leHBvcnRzLkNPV1NXQVBfVVJMUz1kO2V4cG9ydHMuVHJhZGVUeXBlPXI7ZXhwb3J0cy5jb3dTd2FwV2lkZ2V0PVc7XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiaW1wb3J0IHsgY293U3dhcFdpZGdldCB9IGZyb20gXCJAY293cHJvdG9jb2wvd2lkZ2V0LWxpYlwiO1xuXG4vLyAx77iP4oOjIEFkZCBlbXB0eSBjb250YWluZXJcbmNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbi8vICBGaWxsIHRoaXMgZm9ybSBodHRwczovL2Nvd3Byb3RvY29sLnR5cGVmb3JtLmNvbS90by9yT05YYXhIViBvbmNlIHlvdSBwaWNrIHlvdXIgXCJhcHBDb2RlXCJcbmxldCBwYXJhbXMgPSB7XG4gIGFwcENvZGU6IFwiV2lkZ2V0IEV4YW1wbGVzOiBXZWJwYWNrXCIsIC8vIE5hbWUgb2YgeW91ciBhcHAgKG1heCA1MCBjaGFyYWN0ZXJzKVxuICB3aWR0aDogXCI0NTBweFwiLCAvLyBXaWR0aCBpbiBwaXhlbHMgKG9yIDEwMCUgdG8gdXNlIGFsbCBhdmFpbGFibGUgc3BhY2UpXG4gIGhlaWdodDogXCI2NDBweFwiLFxuICBwcm92aWRlcjogd2luZG93LmV0aGVyZXVtLCAvLyBFdGhlcmV1bSBFSVAtMTE5MyBwcm92aWRlci4gRm9yIGEgcXVpY2sgdGVzdCwgeW91IGNhbiBwYXNzIGB3aW5kb3cuZXRoZXJldW1gLCBidXQgY29uc2lkZXIgdXNpbmcgc29tZXRoaW5nIGxpa2UgaHR0cHM6Ly93ZWIzbW9kYWwuY29tXG4gIGNoYWluSWQ6IDEsIC8vIDEgKE1haW5uZXQpLCA1IChHb2VybGkpLCAxMDAgKEdub3NpcylcbiAgdHJhZGVUeXBlOiBcInN3YXBcIiwgLy8gc3dhcCwgbGltaXQgb3IgYWR2YW5jZWRcbiAgc2VsbDoge1xuICAgIC8vIFNlbGwgdG9rZW4uIE9wdGlvbmFsbHkgYWRkIGFtb3VudCBmb3Igc2VsbCBvcmRlcnNcbiAgICBhc3NldDogXCJVU0RDXCIsXG4gICAgYW1vdW50OiBcIjEwMDBcIixcbiAgfSxcbiAgYnV5OiB7XG4gICAgLy8gQnV5IHRva2VuLiBPcHRpb25hbGx5IGFkZCBhbW91bnQgZm9yIGJ1eSBvcmRlcnNcbiAgICBhc3NldDogXCJDT1dcIixcbiAgfSxcbiAgZW5hYmxlZFRyYWRlVHlwZXM6IFtcbiAgICAvLyBzd2FwLCBsaW1pdCBhbmQvb3IgYWR2YW5jZWRcbiAgICBcInN3YXBcIixcbiAgICBcImxpbWl0XCIsXG4gICAgXCJhZHZhbmNlZFwiLFxuICBdLFxuICB0aGVtZTogXCJkYXJrXCIsIC8vIGxpZ2h0L2Rhcmsgb3IgcHJvdmlkZSB5b3VyIG93biBjb2xvciBwYWxldHRlXG4gIGludGVyZmFjZUZlZUJpcHM6IFwiNTBcIiwgLy8gRmlsbCB0aGUgZm9ybSBhYm92ZSBpZiB5b3UgYXJlIGludGVyZXN0ZWRcbn07XG5cbi8vIDLvuI/ig6MgVXBkYXRlIHdpZGdldFxuLy8gICAgLSBZb3UgY2FuIHVwZGF0ZSB0aGUgd2lkZ2V0IHdpdGggbmV3IHBhcmFtcyBhbnkgdGltZVxuLy8gICAgLSBGb3IgZXhhbXBsZSwgYWRkIGEgYnV0dG9uIHRvIGludmVydCB0aGUgdG9rZW4gc2VsZWN0aW9uXG5jb25zdCBzd2l0Y2hUb2tlbnNCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuc3dpdGNoVG9rZW5zQnRuLmlubmVyVGV4dCA9IFwi8J+UhCBJbnZlcnQgdG9rZW4gc2VsZWN0aW9uXCI7XG5zd2l0Y2hUb2tlbnNCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgcGFyYW1zID0ge1xuICAgIC4uLnBhcmFtcyxcbiAgICBzZWxsOiBwYXJhbXMuYnV5LFxuICAgIGJ1eTogcGFyYW1zLnNlbGwsXG4gIH07XG4gIGNvbnNvbGUubG9nKFwic3dpdGNoaW5nIHRva2Vuc1wiLCBwYXJhbXMpO1xuICB1cGRhdGVXaWRnZXQocGFyYW1zKTtcbn0pO1xuXG4vLyDwn5KFIFN0eWxlIEhUTUwgKG5vIHdpZGdldCByZWxhdGVkKVxuLy8gICBBZGRzIHNvbWUgPGhlYWRlciAvPiA8YnV0dG9uIC8+ICwgPG1haW4gLz4gYW5kIHNvbWUgYmFzaWMgc3R5bGVzXG5jb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKTtcbnRpdGxlLmlubmVyVGV4dCA9IFwiQ29XIFdpZGdldCAtIFdlYnBhY2sgZXhhbXBsZVwiO1xuY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xubGluay5ocmVmID0gXCJodHRwczovL2dpdGh1Yi5jb20vY293cHJvdG9jb2wvd2lkZ2V0LWV4YW1wbGVzL3RyZWUvbWFpbi93ZWJwYWNrXCI7XG5saW5rLnRhcmdldCA9IFwiX2JsYW5rXCI7XG5saW5rLnJlbCA9IFwibm9yZWZlcnJlclwiO1xubGluay5pbm5lclRleHQgPSBcIvCfkYAgU2hvdyBtZSB0aGUgY29kZVwiO1xubGluay5zdHlsZSA9IFwiY29sb3I6IHdoaXRlXCI7XG4vLyBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaGVhZGVyXCIpO1xuY29uc3QgbWFpbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJtYWluXCIpO1xuLy8gaGVhZGVyLnN0eWxlID0gXCJ0ZXh0LWFsaWduOiBjZW50ZXI7XCI7XG50aXRsZS5zdHlsZSA9IFwibWFyZ2luOiAzMHB4IDMwcHggMTBweCAzMHB4XCI7XG5zd2l0Y2hUb2tlbnNCdG4uc3R5bGUgPVxuICBcInBhZGRpbmc6IDEwcHg7IGJvcmRlci1yYWRpdXM6IDE1cHg7IG1hcmdpbjogMzBweCAxNXB4OyBcIjtcbm1haW4uc3R5bGUgPVxuICBcImRpc3BsYXk6ZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgbWFyZ2luLXRvcDogMDsgYWxpZ24taXRlbXM6IGNlbnRlcjtcIjtcbmRvY3VtZW50LmJvZHkuc3R5bGUgPVxuICBcImhlaWdodDogMTAwdmg7IGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBjb2xvcjogI2ZmZjsgYmFja2dyb3VuZC1jb2xvcjogIzA2MTcyZTsgbWFyZ2luOiAwO1wiO1xuLy8gY29udGFpbmVyLnN0eWxlID0gYHdpZHRoOiAke3BhcmFtcy53aWR0aH1gO1xuLy8gaGVhZGVyLmFwcGVuZENoaWxkKHRpdGxlKTtcbi8vIGhlYWRlci5hcHBlbmRDaGlsZChsaW5rKTtcbm1haW4uYXBwZW5kQ2hpbGQodGl0bGUpO1xubWFpbi5hcHBlbmRDaGlsZChsaW5rKTtcbm1haW4uYXBwZW5kKHN3aXRjaFRva2Vuc0J0bik7XG5tYWluLmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1haW4pO1xuXG4vLyAz77iP4oOjIFJlbmRlciB3aWRnZXRcbmNvbnN0IHVwZGF0ZVdpZGdldCA9IGNvd1N3YXBXaWRnZXQoY29udGFpbmVyLCBwYXJhbXMpO1xuIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJsIiwiZiIsImNvbnN0cnVjdG9yIiwiZSIsInRoaXMiLCJjb250ZW50V2luZG93IiwiZXRoZXJldW1Qcm92aWRlciIsInJlcXVlc3RzIiwicHJvY2Vzc0V2ZW50IiwidCIsImRhdGEiLCJqc29ucnBjIiwicHJvY2Vzc1JlcXVlc3QiLCJpZCIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJkaXNjb25uZWN0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm9uQ29ubmVjdCIsImtleXMiLCJmb3JFYWNoIiwib24iLCJuIiwicG9zdE1lc3NhZ2UiLCJtZXRob2QiLCJwYXJhbXMiLCJlbmFibGUiLCJyZXF1ZXN0IiwidGhlbiIsInJlc3VsdCIsImNhdGNoIiwiZXJyb3IiLCJkIiwibG9jYWwiLCJwcm9kIiwiZGV2IiwicHIiLCJsb2NhdGlvbiIsImhvc3RuYW1lIiwicmVwbGFjZSIsInMiLCJyIiwiU1dBUCIsIkxJTUlUIiwiQURWQU5DRUQiLCJoIiwiY2hhaW5JZCIsInNlbGwiLCJidXkiLCJ0cmFkZVR5cGUiLCJvIiwiaSIsImFzc2V0IiwicHVzaCIsIm1hcCIsImVuY29kZVVSSUNvbXBvbmVudCIsImpvaW4iLCJ1IiwidGhlbWUiLCJVUkxTZWFyY2hQYXJhbXMiLCJhbW91bnQiLCJhcHBlbmQiLCJiYXNlVGhlbWUiLCJhIiwicCIsInkiLCJjIiwidG9TdHJpbmciLCJrZXkiLCJ1cmxQYXJhbXMiLCJwYXRobmFtZSIsInNlYXJjaCIsImFwcFBhcmFtcyIsInByb3ZpZGVyIiwiQ09XU1dBUF9VUkxTIiwiVHJhZGVUeXBlIiwiY293U3dhcFdpZGdldCIsIndpZHRoIiwiaGVpZ2h0IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic3JjIiwiZW52IiwidiIsInN0eWxlIiwiYm9yZGVyIiwiUyIsImlubmVySFRNTCIsImFwcGVuZENoaWxkIiwiRXJyb3IiLCJtZXRhRGF0YSIsImFwcENvZGUiLCJUIiwiQSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZGVmaW5pdGlvbiIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiY29udGFpbmVyIiwiZXRoZXJldW0iLCJlbmFibGVkVHJhZGVUeXBlcyIsImludGVyZmFjZUZlZUJpcHMiLCJzd2l0Y2hUb2tlbnNCdG4iLCJpbm5lclRleHQiLCJjb25zb2xlIiwibG9nIiwidXBkYXRlV2lkZ2V0IiwidGl0bGUiLCJsaW5rIiwiaHJlZiIsInRhcmdldCIsInJlbCIsIm1haW4iLCJib2R5Il0sInNvdXJjZVJvb3QiOiIifQ==