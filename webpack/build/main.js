(()=>{"use strict";var e={174:(e,t)=>{Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=["connect","disconnect","close","chainChanged","accountsChanged"];class s{constructor(e){this.contentWindow=e,this.ethereumProvider=null,this.requests={},this.processEvent=e=>{"2.0"===e.data.jsonrpc&&(this.ethereumProvider?this.processRequest(e.data):this.requests[e.data.id]=e.data)},window.addEventListener("message",this.processEvent)}disconnect(){this.ethereumProvider=null,window.removeEventListener("message",this.processEvent)}onConnect(e){this.ethereumProvider=e,Object.keys(this.requests).forEach((e=>{this.processRequest(this.requests[e])})),this.requests={},n.forEach((t=>{e.on(t,(e=>{this.postMessage({method:t,params:[e]})}))}))}processRequest(e){this.ethereumProvider&&("enable"===e.method?this.ethereumProvider.enable():this.ethereumProvider.request(e)).then((t=>{this.postMessage({id:e.id,result:t})})).catch((t=>{this.postMessage({id:e.id,error:t})}))}postMessage(e){this.contentWindow.postMessage({jsonrpc:"2.0",...e},"*")}}const o={local:"http://localhost:3000",prod:"https://swap.cow.fi",dev:"https://dev.swap.cow.fi",pr:typeof window>"u"||!window?"":`https://swap-dev-git-${window.location.hostname.replace("widget-configurator-git-","").replace("-cowswap.vercel.app","")}-cowswap.vercel.app`};var a,r=((a=r||{}).SWAP="swap",a.LIMIT="limit",a.ADVANCED="advanced",a);function i(e){const{chainId:t=1,sell:n,buy:s,tradeType:o=r.SWAP}=e,a=[];return n?.asset&&a.push(n.asset),s?.asset&&a.push(s.asset),`/${t}/widget/${o}/${a.map(encodeURIComponent).join("/")}`}function d(e){const{sell:t,buy:n,theme:s}=e,o=new URLSearchParams;return t?.amount&&o.append("sellAmount",t.amount),n?.amount&&o.append("buyAmount",n.amount),s&&o.append("theme","string"==typeof s?s:s.baseTheme),o}const c="cowSwapWidget",p="640px",h="450px";function l(e,t){const n=i(e),s=d(e).toString();t.postMessage({key:c,method:"update",urlParams:{pathname:n,search:s},appParams:{...e,provider:void 0}},"*")}t.COWSWAP_URLS=o,t.TradeType=r,t.cowSwapWidget=function(e,t={}){const{provider:n}=t,a=function(e){const{width:t=h,height:n=p}=e,s=document.createElement("iframe");return s.src=function(e){return o[e.env||"prod"]+"/#"+i(e)+"?"+d(e)}(e),s.width=t,s.height=n,s.style.border="0",s}(t);e.innerHTML="",e.appendChild(a);const{contentWindow:r}=a;if(!r)throw new Error("Iframe does not contain a window!");return function(e,t){window.addEventListener("message",(n=>{n.data.key!==c||"activate"!==n.data.method||e.postMessage({key:c,method:"metaData",metaData:t?{appCode:t}:void 0},"*")}))}(r,t.appCode),function(e,t=p){window.addEventListener("message",(n=>{n.data.key!==c||"iframeHeight"!==n.data.method||(e.style.height=n.data.height?`${n.data.height+20}px`:t)}))}(a,t.height),n&&new s(r).onConnect(n),a.addEventListener("load",(()=>{l(t,r)})),e=>l(e,r)}}},t={};function n(s){var o=t[s];if(void 0!==o)return o.exports;var a=t[s]={exports:{}};return e[s](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=n(174);const t=document.createElement("div");let s={appCode:"Widget Examples: Webpack",width:"450px",height:"640px",provider:window.ethereum,chainId:1,tradeType:"swap",sell:{asset:"USDC",amount:"1000"},buy:{asset:"COW"},enabledTradeTypes:["swap","limit","advanced"],theme:"dark",interfaceFeeBips:"50"};const o=document.createElement("button");o.innerText="ðŸ”„ Invert token selection",o.addEventListener("click",(()=>{s={...s,sell:s.buy,buy:s.sell},console.log("switching tokens",s),d(s)}));const a=document.createElement("h1");a.innerText="CoW Widget - Webpack example";const r=document.createElement("header"),i=document.createElement("main");r.style="text-align: center;",a.style="color: #fff; margin: 30px 30px 0 30px",o.style="padding: 10px; border-radius: 15px; margin: 30px 15px; ",i.style="display:flex; flex-direction: column; lign-items: center; margin-top: 0; align-items: center;",document.body.style="height: 100vh; display: flex; justify-content: center; background-color: #06172e; margin: 0;",r.appendChild(a),r.appendChild(o),i.appendChild(r),i.appendChild(t),document.body.appendChild(i);const d=(0,e.cowSwapWidget)(t,s)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Olsid2VicGFjazovL3dpZGdldC13ZWJwYWNrLWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvQGNvd3Byb3RvY29sL3dpZGdldC1saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd2lkZ2V0LXdlYnBhY2stZXhhbXBsZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly93aWRnZXQtd2VicGFjay1leGFtcGxlL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL3dpZGdldC13ZWJwYWNrLWV4YW1wbGUvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3dpZGdldC13ZWJwYWNrLWV4YW1wbGUvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly93aWRnZXQtd2VicGFjay1leGFtcGxlLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pO2NvbnN0IGc9XCIyLjBcIixtPVwiKlwiLGw9W1wiY29ubmVjdFwiLFwiZGlzY29ubmVjdFwiLFwiY2xvc2VcIixcImNoYWluQ2hhbmdlZFwiLFwiYWNjb3VudHNDaGFuZ2VkXCJdO2NsYXNzIGZ7Y29uc3RydWN0b3IoZSl7dGhpcy5jb250ZW50V2luZG93PWUsdGhpcy5ldGhlcmV1bVByb3ZpZGVyPW51bGwsdGhpcy5yZXF1ZXN0cz17fSx0aGlzLnByb2Nlc3NFdmVudD10PT57dC5kYXRhLmpzb25ycGM9PT1cIjIuMFwiJiYodGhpcy5ldGhlcmV1bVByb3ZpZGVyP3RoaXMucHJvY2Vzc1JlcXVlc3QodC5kYXRhKTp0aGlzLnJlcXVlc3RzW3QuZGF0YS5pZF09dC5kYXRhKX0sd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdGhpcy5wcm9jZXNzRXZlbnQpfWRpc2Nvbm5lY3QoKXt0aGlzLmV0aGVyZXVtUHJvdmlkZXI9bnVsbCx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix0aGlzLnByb2Nlc3NFdmVudCl9b25Db25uZWN0KGUpe3RoaXMuZXRoZXJldW1Qcm92aWRlcj1lLE9iamVjdC5rZXlzKHRoaXMucmVxdWVzdHMpLmZvckVhY2godD0+e3RoaXMucHJvY2Vzc1JlcXVlc3QodGhpcy5yZXF1ZXN0c1t0XSl9KSx0aGlzLnJlcXVlc3RzPXt9LGwuZm9yRWFjaCh0PT57ZS5vbih0LG49Pnt0aGlzLnBvc3RNZXNzYWdlKHttZXRob2Q6dCxwYXJhbXM6W25dfSl9KX0pfXByb2Nlc3NSZXF1ZXN0KGUpe2lmKCF0aGlzLmV0aGVyZXVtUHJvdmlkZXIpcmV0dXJuOyhlLm1ldGhvZD09PVwiZW5hYmxlXCI/dGhpcy5ldGhlcmV1bVByb3ZpZGVyLmVuYWJsZSgpOnRoaXMuZXRoZXJldW1Qcm92aWRlci5yZXF1ZXN0KGUpKS50aGVuKG49Pnt0aGlzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHJlc3VsdDpufSl9KS5jYXRjaChuPT57dGhpcy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCxlcnJvcjpufSl9KX1wb3N0TWVzc2FnZShlKXt0aGlzLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2Uoe2pzb25ycGM6ZywuLi5lfSxtKX19ZnVuY3Rpb24gRSgpe3JldHVybiB0eXBlb2Ygd2luZG93PlwidVwifHwhd2luZG93P1wiXCI6YGh0dHBzOi8vc3dhcC1kZXYtZ2l0LSR7d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLnJlcGxhY2UoXCJ3aWRnZXQtY29uZmlndXJhdG9yLWdpdC1cIixcIlwiKS5yZXBsYWNlKFwiLWNvd3N3YXAudmVyY2VsLmFwcFwiLFwiXCIpfS1jb3dzd2FwLnZlcmNlbC5hcHBgfWNvbnN0IGQ9e2xvY2FsOlwiaHR0cDovL2xvY2FsaG9zdDozMDAwXCIscHJvZDpcImh0dHBzOi8vc3dhcC5jb3cuZmlcIixkZXY6XCJodHRwczovL2Rldi5zd2FwLmNvdy5maVwiLHByOkUoKX07dmFyIHI9KHM9PihzLlNXQVA9XCJzd2FwXCIscy5MSU1JVD1cImxpbWl0XCIscy5BRFZBTkNFRD1cImFkdmFuY2VkXCIscykpKHJ8fHt9KTtmdW5jdGlvbiB2KHMpe2NvbnN0IGU9ZFtzLmVudnx8XCJwcm9kXCJdLHQ9aChzKSxuPXUocyk7cmV0dXJuIGUrXCIvI1wiK3QrXCI/XCIrbn1mdW5jdGlvbiBoKHMpe2NvbnN0e2NoYWluSWQ6ZT0xLHNlbGw6dCxidXk6bix0cmFkZVR5cGU6bz1yLlNXQVB9PXMsaT1bXTt0Py5hc3NldCYmaS5wdXNoKHQuYXNzZXQpLG4/LmFzc2V0JiZpLnB1c2gobi5hc3NldCk7Y29uc3Qgdz1pLm1hcChlbmNvZGVVUklDb21wb25lbnQpLmpvaW4oXCIvXCIpO3JldHVybmAvJHtlfS93aWRnZXQvJHtvfS8ke3d9YH1mdW5jdGlvbiB1KHMpe2NvbnN0e3NlbGw6ZSxidXk6dCx0aGVtZTpufT1zLG89bmV3IFVSTFNlYXJjaFBhcmFtcztyZXR1cm4gZT8uYW1vdW50JiZvLmFwcGVuZChcInNlbGxBbW91bnRcIixlLmFtb3VudCksdD8uYW1vdW50JiZvLmFwcGVuZChcImJ1eUFtb3VudFwiLHQuYW1vdW50KSxuJiZvLmFwcGVuZChcInRoZW1lXCIsdHlwZW9mIG49PVwic3RyaW5nXCI/bjpuLmJhc2VUaGVtZSksb31jb25zdCBhPVwiY293U3dhcFdpZGdldFwiLHA9XCI2NDBweFwiLHk9XCI0NTBweFwiLFA9MjA7ZnVuY3Rpb24gVyhzLGU9e30pe2NvbnN0e3Byb3ZpZGVyOnR9PWUsbj1TKGUpO3MuaW5uZXJIVE1MPVwiXCIscy5hcHBlbmRDaGlsZChuKTtjb25zdHtjb250ZW50V2luZG93Om99PW47aWYoIW8pdGhyb3cgbmV3IEVycm9yKFwiSWZyYW1lIGRvZXMgbm90IGNvbnRhaW4gYSB3aW5kb3chXCIpO3JldHVybiBUKG8sZS5hcHBDb2RlKSxBKG4sZS5oZWlnaHQpLHQmJm5ldyBmKG8pLm9uQ29ubmVjdCh0KSxuLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsKCk9PntjKGUsbyl9KSxpPT5jKGksbyl9ZnVuY3Rpb24gUyhzKXtjb25zdHt3aWR0aDplPXksaGVpZ2h0OnQ9cH09cyxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7cmV0dXJuIG4uc3JjPXYocyksbi53aWR0aD1lLG4uaGVpZ2h0PXQsbi5zdHlsZS5ib3JkZXI9XCIwXCIsbn1mdW5jdGlvbiBjKHMsZSl7Y29uc3QgdD1oKHMpLG49dShzKS50b1N0cmluZygpO2UucG9zdE1lc3NhZ2Uoe2tleTphLG1ldGhvZDpcInVwZGF0ZVwiLHVybFBhcmFtczp7cGF0aG5hbWU6dCxzZWFyY2g6bn0sYXBwUGFyYW1zOnsuLi5zLHByb3ZpZGVyOnZvaWQgMH19LFwiKlwiKX1mdW5jdGlvbiBUKHMsZSl7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdD0+e3QuZGF0YS5rZXkhPT1hfHx0LmRhdGEubWV0aG9kIT09XCJhY3RpdmF0ZVwifHxzLnBvc3RNZXNzYWdlKHtrZXk6YSxtZXRob2Q6XCJtZXRhRGF0YVwiLG1ldGFEYXRhOmU/e2FwcENvZGU6ZX06dm9pZCAwfSxcIipcIil9KX1mdW5jdGlvbiBBKHMsZT1wKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix0PT57dC5kYXRhLmtleSE9PWF8fHQuZGF0YS5tZXRob2QhPT1cImlmcmFtZUhlaWdodFwifHwocy5zdHlsZS5oZWlnaHQ9dC5kYXRhLmhlaWdodD9gJHt0LmRhdGEuaGVpZ2h0K1B9cHhgOmUpfSl9ZXhwb3J0cy5DT1dTV0FQX1VSTFM9ZDtleHBvcnRzLlRyYWRlVHlwZT1yO2V4cG9ydHMuY293U3dhcFdpZGdldD1XO1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsImltcG9ydCB7IGNvd1N3YXBXaWRnZXQgfSBmcm9tIFwiQGNvd3Byb3RvY29sL3dpZGdldC1saWJcIjtcblxuLy8gMe+4j+KDoyBBZGQgZW1wdHkgY29udGFpbmVyXG5jb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4vLyAgRmlsbCB0aGlzIGZvcm0gaHR0cHM6Ly9jb3dwcm90b2NvbC50eXBlZm9ybS5jb20vdG8vck9OWGF4SFYgb25jZSB5b3UgcGljayB5b3VyIFwiYXBwQ29kZVwiXG5sZXQgcGFyYW1zID0ge1xuICBhcHBDb2RlOiBcIldpZGdldCBFeGFtcGxlczogV2VicGFja1wiLCAvLyBOYW1lIG9mIHlvdXIgYXBwIChtYXggNTAgY2hhcmFjdGVycylcbiAgd2lkdGg6IFwiNDUwcHhcIiwgLy8gV2lkdGggaW4gcGl4ZWxzIChvciAxMDAlIHRvIHVzZSBhbGwgYXZhaWxhYmxlIHNwYWNlKVxuICBoZWlnaHQ6IFwiNjQwcHhcIixcbiAgcHJvdmlkZXI6IHdpbmRvdy5ldGhlcmV1bSwgLy8gRXRoZXJldW0gRUlQLTExOTMgcHJvdmlkZXIuIEZvciBhIHF1aWNrIHRlc3QsIHlvdSBjYW4gcGFzcyBgd2luZG93LmV0aGVyZXVtYCwgYnV0IGNvbnNpZGVyIHVzaW5nIHNvbWV0aGluZyBsaWtlIGh0dHBzOi8vd2ViM21vZGFsLmNvbVxuICBjaGFpbklkOiAxLCAvLyAxIChNYWlubmV0KSwgNSAoR29lcmxpKSwgMTAwIChHbm9zaXMpXG4gIHRyYWRlVHlwZTogXCJzd2FwXCIsIC8vIHN3YXAsIGxpbWl0IG9yIGFkdmFuY2VkXG4gIHNlbGw6IHtcbiAgICAvLyBTZWxsIHRva2VuLiBPcHRpb25hbGx5IGFkZCBhbW91bnQgZm9yIHNlbGwgb3JkZXJzXG4gICAgYXNzZXQ6IFwiVVNEQ1wiLFxuICAgIGFtb3VudDogXCIxMDAwXCIsXG4gIH0sXG4gIGJ1eToge1xuICAgIC8vIEJ1eSB0b2tlbi4gT3B0aW9uYWxseSBhZGQgYW1vdW50IGZvciBidXkgb3JkZXJzXG4gICAgYXNzZXQ6IFwiQ09XXCIsXG4gIH0sXG4gIGVuYWJsZWRUcmFkZVR5cGVzOiBbXG4gICAgLy8gc3dhcCwgbGltaXQgYW5kL29yIGFkdmFuY2VkXG4gICAgXCJzd2FwXCIsXG4gICAgXCJsaW1pdFwiLFxuICAgIFwiYWR2YW5jZWRcIixcbiAgXSxcbiAgdGhlbWU6IFwiZGFya1wiLCAvLyBsaWdodC9kYXJrIG9yIHByb3ZpZGUgeW91ciBvd24gY29sb3IgcGFsZXR0ZVxuICBpbnRlcmZhY2VGZWVCaXBzOiBcIjUwXCIsIC8vIEZpbGwgdGhlIGZvcm0gYWJvdmUgaWYgeW91IGFyZSBpbnRlcmVzdGVkXG59O1xuXG4vLyAy77iP4oOjIFVwZGF0ZSB3aWRnZXRcbi8vICAgIC0gWW91IGNhbiB1cGRhdGUgdGhlIHdpZGdldCB3aXRoIG5ldyBwYXJhbXMgYW55IHRpbWVcbi8vICAgIC0gRm9yIGV4YW1wbGUsIGFkZCBhIGJ1dHRvbiB0byBpbnZlcnQgdGhlIHRva2VuIHNlbGVjdGlvblxuY29uc3Qgc3dpdGNoVG9rZW5zQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbnN3aXRjaFRva2Vuc0J0bi5pbm5lclRleHQgPSBcIvCflIQgSW52ZXJ0IHRva2VuIHNlbGVjdGlvblwiO1xuc3dpdGNoVG9rZW5zQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHBhcmFtcyA9IHtcbiAgICAuLi5wYXJhbXMsXG4gICAgc2VsbDogcGFyYW1zLmJ1eSxcbiAgICBidXk6IHBhcmFtcy5zZWxsLFxuICB9O1xuICBjb25zb2xlLmxvZyhcInN3aXRjaGluZyB0b2tlbnNcIiwgcGFyYW1zKTtcbiAgdXBkYXRlV2lkZ2V0KHBhcmFtcyk7XG59KTtcblxuLy8g8J+ShSBTdHlsZSBIVE1MIChubyB3aWRnZXQgcmVsYXRlZClcbi8vICAgQWRkcyBzb21lIDxoZWFkZXIgLz4gPGJ1dHRvbiAvPiBhbmQgPG1haW4gLz4gYW5kIHNvbWUgYmFzaWMgc3R5bGVzXG5jb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKTtcbnRpdGxlLmlubmVyVGV4dCA9IFwiQ29XIFdpZGdldCAtIFdlYnBhY2sgZXhhbXBsZVwiO1xuY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImhlYWRlclwiKTtcbmNvbnN0IG1haW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibWFpblwiKTtcbmhlYWRlci5zdHlsZSA9IFwidGV4dC1hbGlnbjogY2VudGVyO1wiO1xudGl0bGUuc3R5bGUgPSBcImNvbG9yOiAjZmZmOyBtYXJnaW46IDMwcHggMzBweCAwIDMwcHhcIjtcbnN3aXRjaFRva2Vuc0J0bi5zdHlsZSA9XG4gIFwicGFkZGluZzogMTBweDsgYm9yZGVyLXJhZGl1czogMTVweDsgbWFyZ2luOiAzMHB4IDE1cHg7IFwiO1xubWFpbi5zdHlsZSA9XG4gIFwiZGlzcGxheTpmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBsaWduLWl0ZW1zOiBjZW50ZXI7IG1hcmdpbi10b3A6IDA7IGFsaWduLWl0ZW1zOiBjZW50ZXI7XCI7XG5kb2N1bWVudC5ib2R5LnN0eWxlID1cbiAgXCJoZWlnaHQ6IDEwMHZoOyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgYmFja2dyb3VuZC1jb2xvcjogIzA2MTcyZTsgbWFyZ2luOiAwO1wiO1xuLy8gY29udGFpbmVyLnN0eWxlID0gYHdpZHRoOiAke3BhcmFtcy53aWR0aH1gO1xuaGVhZGVyLmFwcGVuZENoaWxkKHRpdGxlKTtcbmhlYWRlci5hcHBlbmRDaGlsZChzd2l0Y2hUb2tlbnNCdG4pO1xubWFpbi5hcHBlbmRDaGlsZChoZWFkZXIpO1xubWFpbi5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtYWluKTtcblxuLy8gM++4j+KDoyBSZW5kZXIgd2lkZ2V0XG5jb25zdCB1cGRhdGVXaWRnZXQgPSBjb3dTd2FwV2lkZ2V0KGNvbnRhaW5lciwgcGFyYW1zKTtcbiJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwibCIsImYiLCJjb25zdHJ1Y3RvciIsImUiLCJ0aGlzIiwiY29udGVudFdpbmRvdyIsImV0aGVyZXVtUHJvdmlkZXIiLCJyZXF1ZXN0cyIsInByb2Nlc3NFdmVudCIsInQiLCJkYXRhIiwianNvbnJwYyIsInByb2Nlc3NSZXF1ZXN0IiwiaWQiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiZGlzY29ubmVjdCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJvbkNvbm5lY3QiLCJrZXlzIiwiZm9yRWFjaCIsIm9uIiwibiIsInBvc3RNZXNzYWdlIiwibWV0aG9kIiwicGFyYW1zIiwiZW5hYmxlIiwicmVxdWVzdCIsInRoZW4iLCJyZXN1bHQiLCJjYXRjaCIsImVycm9yIiwiZCIsImxvY2FsIiwicHJvZCIsImRldiIsInByIiwibG9jYXRpb24iLCJob3N0bmFtZSIsInJlcGxhY2UiLCJzIiwiciIsIlNXQVAiLCJMSU1JVCIsIkFEVkFOQ0VEIiwiaCIsImNoYWluSWQiLCJzZWxsIiwiYnV5IiwidHJhZGVUeXBlIiwibyIsImkiLCJhc3NldCIsInB1c2giLCJtYXAiLCJlbmNvZGVVUklDb21wb25lbnQiLCJqb2luIiwidSIsInRoZW1lIiwiVVJMU2VhcmNoUGFyYW1zIiwiYW1vdW50IiwiYXBwZW5kIiwiYmFzZVRoZW1lIiwiYSIsInAiLCJ5IiwiYyIsInRvU3RyaW5nIiwia2V5IiwidXJsUGFyYW1zIiwicGF0aG5hbWUiLCJzZWFyY2giLCJhcHBQYXJhbXMiLCJwcm92aWRlciIsIkNPV1NXQVBfVVJMUyIsIlRyYWRlVHlwZSIsImNvd1N3YXBXaWRnZXQiLCJ3aWR0aCIsImhlaWdodCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNyYyIsImVudiIsInYiLCJzdHlsZSIsImJvcmRlciIsIlMiLCJpbm5lckhUTUwiLCJhcHBlbmRDaGlsZCIsIkVycm9yIiwibWV0YURhdGEiLCJhcHBDb2RlIiwiVCIsIkEiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImRlZmluaXRpb24iLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImNvbnRhaW5lciIsImV0aGVyZXVtIiwiZW5hYmxlZFRyYWRlVHlwZXMiLCJpbnRlcmZhY2VGZWVCaXBzIiwic3dpdGNoVG9rZW5zQnRuIiwiaW5uZXJUZXh0IiwiY29uc29sZSIsImxvZyIsInVwZGF0ZVdpZGdldCIsInRpdGxlIiwiaGVhZGVyIiwibWFpbiIsImJvZHkiXSwic291cmNlUm9vdCI6IiJ9